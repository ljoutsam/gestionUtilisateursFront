<div class="login-container">
    <h2>Connexion</h2>
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <div class="form-group">
        <label for="nom">Nom</label>
        <input type="text" id="nom" name="nom" formControlName="nom">

        @if(loginForm.get('nom')?.invalid && (loginForm.get('nom')?.dirty || loginForm.get('nom')?.touched)) {
            <div class="alert alert-danger">
                @if (loginForm.get('nom')?.errors?.['required']) {
                    <div >Le nom est requis.</div>
                }    
            </div>
        }
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" formControlName="email">

        @if (loginForm.get('email')?.invalid 
            && (loginForm.get('email')?.dirty 
                || loginForm.get('email')?.touched)) {
                    <div class="alert alert-danger">
                        @if (loginForm.get('email')?.errors?.['required']) {
                            <div >L'email est requis.</div>
                        }
                        @if (loginForm.get('email')?.errors?.['email']) {
                            <div>L'email n'est pas valide.</div>
                        }

                    </div>
                }
      </div>
      <button type="submit" [disabled]="loginForm.invalid" class="btn btn-primary">Se connecter</button>
    </form>

    @if (errorMessage) {
        <div class="alert alert-danger">
            {{ errorMessage }}
          </div>
    }

  </div>
  
